<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„æ”¶è— - é«˜è€ƒç¥ˆç¦</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        /* iPhone 15 Pro Max å¤–å£³ */
        .phone-container {
            width: 393px;
            height: 852px;
            margin: 20px auto;
            position: relative;
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border-radius: 55px;
            padding: 8px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.1),
                inset 0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-height: 900px) {
            .phone-container {
                transform: scale(0.9);
                margin: 10px auto;
            }
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                    #0f0f23 0%,
                    #1a1a2e 30%,
                    #16213e 60%,
                    #0f0f23 100%);
            border-radius: 47px;
            overflow: hidden;
            position: relative;
        }

        /* Status bar */
        .status-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 47px;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.8), transparent);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 24px;
            font-size: 14px;
            font-weight: 600;
            color: white;
            z-index: 100;
        }

        .time {
            letter-spacing: 0.5px;
        }

        .status-icons {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-icons i {
            font-size: 16px;
        }

        /* Navigation bar */
        .nav-bar {
            position: absolute;
            top: 47px;
            left: 0;
            right: 0;
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 24px;
            z-index: 90;
        }

        .nav-back {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-back:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .nav-title {
            flex: 1;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
        }

        .nav-action {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-action:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* 3DèƒŒæ™¯åœºæ™¯ */
        .background-scene {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            opacity: 0.4;
        }

        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .floating-element {
            position: absolute;
            background: linear-gradient(45deg, #ffd700, #ff8c42);
            border-radius: 50%;
            opacity: 0.6;
            animation: float3d 12s infinite ease-in-out;
        }

        .floating-element:nth-child(1) {
            width: 8px;
            height: 8px;
            left: 10%;
            top: 20%;
            animation-delay: 0s;
        }

        .floating-element:nth-child(2) {
            width: 6px;
            height: 6px;
            left: 80%;
            top: 15%;
            animation-delay: 2s;
        }

        .floating-element:nth-child(3) {
            width: 10px;
            height: 10px;
            left: 60%;
            top: 40%;
            animation-delay: 4s;
        }

        .floating-element:nth-child(4) {
            width: 4px;
            height: 4px;
            left: 25%;
            top: 70%;
            animation-delay: 6s;
        }

        .floating-element:nth-child(5) {
            width: 7px;
            height: 7px;
            left: 90%;
            top: 60%;
            animation-delay: 8s;
        }

        @keyframes float3d {

            0%,
            100% {
                transform: translateY(0) scale(1) rotate(0deg);
                opacity: 0.3;
            }

            25% {
                transform: translateY(-20px) scale(1.1) rotate(90deg);
                opacity: 0.8;
            }

            50% {
                transform: translateY(-10px) scale(0.9) rotate(180deg);
                opacity: 0.5;
            }

            75% {
                transform: translateY(-30px) scale(1.2) rotate(270deg);
                opacity: 0.7;
            }
        }

        /* Content area */
        .content {
            height: calc(100% - 107px);
            margin-top: 107px;
            overflow-y: auto;
            padding: 20px;
            position: relative;
            z-index: 10;
            /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE and Edge */
        }

        /* éšè— Webkit å†…æ ¸æµè§ˆå™¨çš„æ»šåŠ¨æ¡ */
        .content::-webkit-scrollbar {
            display: none;
        }

        /* éšè—è¯¦æƒ…æ¨¡æ€æ¡†æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */
        .detail-modal .modal-content::-webkit-scrollbar {
            display: none;
        }

        .detail-modal .modal-content {
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE and Edge */
        }

        /* æ”¶è—ç»Ÿè®¡å¡ç‰‡ */
        .favorites-overview {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 140, 66, 0.1));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }

        .favorites-overview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #ffd700, #ff8c42, #ffd700);
        }

        .overview-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .overview-title {
            font-size: 18px;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .overview-action {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .overview-action:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .overview-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .overview-stat {
            text-align: center;
        }

        .overview-number {
            font-size: 24px;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 4px;
        }

        .overview-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* å¿«é€Ÿåˆ†ç±»æ  */
        .category-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            overflow-y: hidden;
            padding-bottom: 4px;
            /* éšè—æ¨ªå‘æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE and Edge */
            /* å¢å¼ºæ»šåŠ¨ä½“éªŒ */
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            /* iOS æ»‘åŠ¨ä¼˜åŒ– */
            position: relative;
        }

        /* éšè— Webkit å†…æ ¸æµè§ˆå™¨çš„æ¨ªå‘æ»šåŠ¨æ¡ */
        .category-tabs::-webkit-scrollbar {
            display: none;
        }

        /* åˆ†ç±»æ ‡ç­¾å®¹å™¨ */
        .category-tabs-container {
            position: relative;
        }

        .category-tab {
            flex-shrink: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .category-tab.active {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border-color: transparent;
        }

        .category-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.15);
        }

        /* æœç´¢å’Œç­›é€‰æ  */
        .search-filter-bar {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .search-input-container {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 12px 16px 12px 44px;
            color: white;
            font-size: 14px;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-input:focus {
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.5);
        }

        .filter-sort-btn {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-sort-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* æ”¶è—ç½‘æ ¼ */
        .favorites-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }

        .favorite-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .favorite-card:hover {
            transform: translateY(-2px);
            border-color: rgba(255, 215, 0, 0.3);
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.1);
        }

        .favorite-card.selected {
            border-color: rgba(255, 215, 0, 0.5);
            background: rgba(255, 215, 0, 0.1);
        }

        .favorite-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .favorite-info {
            flex: 1;
        }

        .favorite-title {
            font-size: 14px;
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .favorite-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
        }

        .favorite-actions {
            display: flex;
            gap: 8px;
        }

        .favorite-action-btn {
            width: 28px;
            height: 28px;
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .favorite-action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
        }

        .favorite-action-btn.liked {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .favorite-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.5;
            position: relative;
            max-height: 80px;
            overflow: hidden;
        }

        .favorite-content.expanded {
            max-height: none;
        }

        .favorite-content::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(transparent, rgba(255, 255, 255, 0.05));
            pointer-events: none;
        }

        .favorite-content.expanded::after {
            display: none;
        }

        .favorite-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }

        .favorite-tag {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: 500;
        }

        .favorite-bottom {
            display: flex;
            align-items: center;
            justify-content: between;
        }

        .favorite-stats {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .favorite-stat {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
        }

        .favorite-use-btn {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .favorite-use-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);
        }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.6);
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
            color: #ffd700;
        }

        .empty-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.8);
        }

        .empty-desc {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .empty-action {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .empty-action:hover {
            transform: translateY(-2px);
        }

        /* æ‰¹é‡æ“ä½œæ  */
        .batch-actions {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .batch-actions.show {
            opacity: 1;
            visibility: visible;
        }

        .batch-info {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }

        .batch-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .batch-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .batch-btn.primary {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border-color: transparent;
        }

        /* Toastæ¶ˆæ¯ */
        .toast {
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .toast.show {
            opacity: 1;
        }

        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            border-radius: 47px;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: rgba(15, 15, 35, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            max-width: 320px;
            width: 90%;
            backdrop-filter: blur(20px);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal.show .modal-content {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }

        .close-btn {
            width: 32px;
            height: 32px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
        }

        .modal-btn.primary {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
        }

        .modal-btn:hover {
            transform: translateY(-1px);
        }

        /* è¯¦æƒ…æ¨¡æ€æ¡†ç‰¹æ®Šæ ·å¼ */
        .detail-modal .modal-content {
            max-width: 350px;
            max-height: 600px;
            overflow-y: auto;
        }

        .detail-content {
            font-size: 14px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .detail-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .detail-tag {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .detail-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .detail-stat {
            text-align: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .detail-stat-number {
            font-size: 18px;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 4px;
        }

        .detail-stat-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="phone-screen">
            <!-- 3DèƒŒæ™¯åœºæ™¯ -->
            <div class="background-scene">
                <div class="floating-elements">
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                </div>
            </div>

            <!-- Status Bar -->
            <div class="status-bar">
                <div class="time">9:41</div>
                <div class="status-icons">
                    <i class="fas fa-signal"></i>
                    <i class="fas fa-wifi"></i>
                    <i class="fas fa-battery-three-quarters"></i>
                </div>
            </div>

            <!-- Navigation Bar -->
            <div class="nav-bar">
                <div class="nav-back" onclick="goBack()">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="nav-title">æˆ‘çš„æ”¶è—</div>
                <div class="nav-action" onclick="toggleSelectMode()">
                    <i class="fas fa-check-square" id="selectIcon"></i>
                </div>
            </div>

            <!-- Content -->
            <div class="content">
                <!-- æ”¶è—æ¦‚è§ˆ -->
                <div class="favorites-overview">
                    <div class="overview-header">
                        <div class="overview-title">
                            <i class="fas fa-heart"></i>
                            æˆ‘çš„æ”¶è—åº“
                        </div>
                        <div class="overview-action" onclick="showRecommendations()">
                            <i class="fas fa-sparkles"></i>
                            å‘ç°æ›´å¤š
                        </div>
                    </div>
                    <div class="overview-stats">
                        <div class="overview-stat">
                            <div class="overview-number">42</div>
                            <div class="overview-label">æ”¶è—æ•°é‡</div>
                        </div>
                        <div class="overview-stat">
                            <div class="overview-number">18</div>
                            <div class="overview-label">å·²ä½¿ç”¨</div>
                        </div>
                        <div class="overview-stat">
                            <div class="overview-number">7</div>
                            <div class="overview-label">è‡ªå®šä¹‰æ ‡ç­¾</div>
                        </div>
                    </div>
                </div>

                <!-- æœç´¢ç­›é€‰æ  -->
                <div class="search-filter-bar">
                    <div class="search-input-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="æœç´¢æ”¶è—çš„ç¥ç¦å†…å®¹..." id="searchInput">
                    </div>
                    <div class="filter-sort-btn" onclick="toggleSortOrder()">
                        <i class="fas fa-sort-amount-down" id="sortIcon"></i>
                    </div>
                </div>

                <!-- å¿«é€Ÿåˆ†ç±» -->
                <div class="category-tabs-container">
                    <div class="category-tabs" id="categoryTabs">
                        <div class="category-tab active" data-category="all">
                            <i class="fas fa-th-large"></i>
                            å…¨éƒ¨
                        </div>
                        <div class="category-tab" data-category="motivation">
                            <i class="fas fa-fire"></i>
                            åŠ±å¿—
                        </div>
                        <div class="category-tab" data-category="blessing">
                            <i class="fas fa-hands-praying"></i>
                            ç¥ˆç¦
                        </div>
                        <div class="category-tab" data-category="wisdom">
                            <i class="fas fa-lightbulb"></i>
                            æ™ºæ…§
                        </div>
                        <div class="category-tab" data-category="emotional">
                            <i class="fas fa-heart"></i>
                            æ¸©æš–
                        </div>
                        <div class="category-tab" data-category="custom">
                            <i class="fas fa-tag"></i>
                            è‡ªå®šä¹‰
                        </div>
                    </div>
                </div>

                <!-- æ”¶è—ç½‘æ ¼ -->
                <div class="favorites-grid" id="favoritesGrid">
                    <!-- æ”¶è—å¡ç‰‡1 -->
                    <div class="favorite-card" data-category="motivation" data-date="2024-06-05" data-uses="5">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">æ„¿ä½ å¦‚é›„é¹°èˆ¬å±•ç¿…é«˜é£ï¼Œè¶…è¶Šè‡ªæˆ‘</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 2å¤©å‰æ”¶è—</span>
                                    <span><i class="fas fa-paper-plane"></i> ä½¿ç”¨5æ¬¡</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn liked" onclick="toggleFavorite(this)">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(1)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            æ„¿ä½ åœ¨é«˜è€ƒçš„èˆå°ä¸Šï¼Œå¦‚é›„é¹°èˆ¬å±•ç¿…é«˜é£ï¼Œè¶…è¶Šè‡ªæˆ‘ï¼Œåˆ›é€ å±äºä½ çš„è¾‰ç…Œï¼æ¯ä¸€é“é¢˜ç›®éƒ½æ˜¯ä½ æ™ºæ…§çš„ä½“ç°ï¼Œæ¯ä¸€åˆ†åŠªåŠ›éƒ½ä¼šå¾—åˆ°æœ€å¥½çš„å›æŠ¥ã€‚ç›¸ä¿¡è‡ªå·±ï¼Œå‹‡æ•¢å‰è¡Œï¼Œé‡‘æ¦œé¢˜åæŒ‡æ—¥å¯å¾…ï¼ğŸ“âœ¨
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">åŠ±å¿—</span>
                            <span class="favorite-tag">æ¿€åŠ±</span>
                            <span class="favorite-tag">é›„é¹°</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>126</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>23</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(1)">
                                <i class="fas fa-paper-plane"></i>
                                ç«‹å³ä½¿ç”¨
                            </button>
                        </div>
                    </div>

                    <!-- æ”¶è—å¡ç‰‡2 -->
                    <div class="favorite-card" data-category="blessing" data-date="2024-06-04" data-uses="3">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">åå¹´å¯’çª—è‹¦è¯»ï¼Œä»Šæœé‡‘æ¦œé¢˜åæ—¶</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 3å¤©å‰æ”¶è—</span>
                                    <span><i class="fas fa-paper-plane"></i> ä½¿ç”¨3æ¬¡</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn liked" onclick="toggleFavorite(this)">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(2)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            åå¹´å¯’çª—è‹¦è¯»ï¼Œä»Šæœé‡‘æ¦œé¢˜åæ—¶ã€‚æ„¿ä½ åœ¨é«˜è€ƒä¸­è¶…å¸¸å‘æŒ¥ï¼Œå®ç°å¿ƒä¸­çš„æ¢¦æƒ³ã€‚è®°ä½ï¼šä½ çš„åŠªåŠ›ä¸ä¼šç™½è´¹ï¼Œä½ çš„æ¢¦æƒ³å€¼å¾—è¿½æ±‚ï¼æ„¿æ‰€æœ‰çš„æ±—æ°´éƒ½åŒ–ä½œæˆåŠŸçš„å–œæ‚¦ï¼ğŸŒŸğŸ“š
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">ç¥ˆç¦</span>
                            <span class="favorite-tag">ä¼ ç»Ÿ</span>
                            <span class="favorite-tag">é‡‘æ¦œé¢˜å</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>89</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>15</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(2)">
                                <i class="fas fa-paper-plane"></i>
                                ç«‹å³ä½¿ç”¨
                            </button>
                        </div>
                    </div>

                    <!-- æ”¶è—å¡ç‰‡3 -->
                    <div class="favorite-card" data-category="wisdom" data-date="2024-06-03" data-uses="1">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">æ™ºæ…§çš„å…‰èŠ’å°†ç…§äº®å‰è¡Œçš„é“è·¯</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 4å¤©å‰æ”¶è—</span>
                                    <span><i class="fas fa-paper-plane"></i> ä½¿ç”¨1æ¬¡</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(3)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            çŸ¥è¯†æ˜¯æœ€ç¾çš„è´¢å¯Œï¼Œæ™ºæ…§æ˜¯æœ€äº®çš„æ˜ç¯ã€‚æ„¿ä½ åœ¨çŸ¥è¯†çš„æµ·æ´‹ä¸­è‡ªç”±é¨æ¸¸ï¼Œç”¨æ™ºæ…§çš„å…‰èŠ’ç…§äº®å‰è¡Œçš„é“è·¯ã€‚é«˜è€ƒåªæ˜¯äººç”Ÿçš„ä¸€ä¸ªèµ·ç‚¹ï¼ŒçœŸæ­£çš„ç²¾å½©è¿˜åœ¨åå¤´ï¼ğŸ’¡ğŸ“–
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">æ™ºæ…§</span>
                            <span class="favorite-tag">çŸ¥è¯†</span>
                            <span class="favorite-tag">äººç”Ÿå“²ç†</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>67</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>12</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(3)">
                                <i class="fas fa-paper-plane"></i>
                                ç«‹å³ä½¿ç”¨
                            </button>
                        </div>
                    </div>

                    <!-- æ”¶è—å¡ç‰‡4 -->
                    <div class="favorite-card" data-category="emotional" data-date="2024-06-02" data-uses="8">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">æ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 5å¤©å‰æ”¶è—</span>
                                    <span><i class="fas fa-paper-plane"></i> ä½¿ç”¨8æ¬¡</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn liked" onclick="toggleFavorite(this)">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(4)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            æ„¿ä½ è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…ï¼Œæ„¿ä½ çš„åŠªåŠ›éƒ½æœ‰æ”¶è·ï¼Œæ„¿ä½ çš„æ¢¦æƒ³éƒ½èƒ½å®ç°ã€‚é«˜è€ƒè·¯ä¸Šè™½ç„¶è¾›è‹¦ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œæ‰€æœ‰çš„ä»˜å‡ºéƒ½æ˜¯å€¼å¾—çš„ã€‚åŠ æ²¹ï¼Œæœªæ¥çš„å¤§å­¦ç”Ÿï¼ğŸŒ¸ğŸ’–
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">æ¸©æš–</span>
                            <span class="favorite-tag">æ²»æ„ˆ</span>
                            <span class="favorite-tag">æ¸©æŸ”</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>234</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>45</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(4)">
                                <i class="fas fa-paper-plane"></i>
                                ç«‹å³ä½¿ç”¨
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ‰¹é‡æ“ä½œæ  -->
    <div class="batch-actions" id="batchActions">
        <div class="batch-info">
            å·²é€‰æ‹© <span id="selectedCount">0</span> é¡¹
        </div>
        <button class="batch-btn" onclick="batchShare()">
            <i class="fas fa-share"></i> åˆ†äº«
        </button>
        <button class="batch-btn" onclick="batchRemove()">
            <i class="fas fa-trash"></i> ç§»é™¤
        </button>
        <button class="batch-btn primary" onclick="batchUse()">
            <i class="fas fa-paper-plane"></i> æ‰¹é‡ä½¿ç”¨
        </button>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div class="modal detail-modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">ç¥ç¦è¯¦æƒ…</div>
                <button class="close-btn" onclick="closeDetailModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="detail-content" id="detailContent">
                    <!-- è¯¦æƒ…å†…å®¹å°†åœ¨è¿™é‡ŒåŠ¨æ€å¡«å…… -->
                </div>
                <div class="detail-tags" id="detailTags">
                    <!-- æ ‡ç­¾å°†åœ¨è¿™é‡ŒåŠ¨æ€å¡«å…… -->
                </div>
                <div class="detail-stats">
                    <div class="detail-stat">
                        <div class="detail-stat-number" id="detailViews">0</div>
                        <div class="detail-stat-label">æŸ¥çœ‹æ¬¡æ•°</div>
                    </div>
                    <div class="detail-stat">
                        <div class="detail-stat-number" id="detailUses">0</div>
                        <div class="detail-stat-label">ä½¿ç”¨æ¬¡æ•°</div>
                    </div>
                    <div class="detail-stat">
                        <div class="detail-stat-number" id="detailLikes">0</div>
                        <div class="detail-stat-label">è·å¾—å–œæ¬¢</div>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" onclick="editFavorite()">
                    <i class="fas fa-edit"></i> ç¼–è¾‘
                </button>
                <button class="modal-btn primary" onclick="useFromDetail()">
                    <i class="fas fa-paper-plane"></i> ç«‹å³ä½¿ç”¨
                </button>
            </div>
        </div>
    </div>

    <!-- æ¨èæ¨¡æ€æ¡† -->
    <div class="modal" id="recommendModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">ä¸ºä½ æ¨è</div>
                <button class="close-btn" onclick="closeRecommendModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>åŸºäºä½ çš„æ”¶è—åå¥½ï¼Œä¸ºä½ æ¨èä»¥ä¸‹ä¼˜è´¨ç¥ç¦å†…å®¹ï¼š</p>
                <div
                    style="margin: 16px 0; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px; font-size: 13px; line-height: 1.5;">
                    "æˆåŠŸçš„èŠ±ï¼Œäººä»¬åªæƒŠç¾¡å¥¹ç°æ—¶çš„æ˜è‰³ï¼Œç„¶è€Œå½“åˆå¥¹çš„èŠ½å„¿ï¼Œæµ¸é€äº†å¥‹æ–—çš„æ³ªæ³‰ï¼Œæ´’éäº†ç‰ºç‰²çš„è¡€é›¨ã€‚æ„¿ä½ åœ¨è¿½æ¢¦è·¯ä¸Šï¼Œæ°¸è¿œä¿æŒåˆå¿ƒï¼"
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" onclick="closeRecommendModal()">ç¨åå†çœ‹</button>
                <button class="modal-btn primary" onclick="addRecommendation()">
                    <i class="fas fa-heart"></i> åŠ å…¥æ”¶è—
                </button>
            </div>
        </div>
    </div>
    </div>
    </div>

    <script>
        let isSelectMode = false;
        let selectedItems = new Set();
        let sortAscending = false;
        let currentCategory = 'all';

        // é¡µé¢è¿‡æ¸¡åŠ¨ç”»
        function pageTransition(targetPage, callback) {
            const screen = document.querySelector('.phone-screen');
            screen.style.transition = 'transform 0.3s ease-out, opacity 0.3s ease-out';
            screen.style.transform = 'scale(0.95)';
            screen.style.opacity = '0.7';

            setTimeout(() => {
                if (callback) callback();
                window.location.href = targetPage;
            }, 150);
        }

        function goBack() {
            pageTransition('personal-center.html');
        }

        // æ˜¾ç¤ºToastæ¶ˆæ¯
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // åˆ‡æ¢é€‰æ‹©æ¨¡å¼
        function toggleSelectMode() {
            isSelectMode = !isSelectMode;
            const selectIcon = document.getElementById('selectIcon');
            const batchActions = document.getElementById('batchActions');

            if (isSelectMode) {
                selectIcon.className = 'fas fa-times';
                batchActions.classList.add('show');
                showToast('å·²è¿›å…¥é€‰æ‹©æ¨¡å¼');
            } else {
                selectIcon.className = 'fas fa-check-square';
                batchActions.classList.remove('show');
                selectedItems.clear();
                updateSelectedCards();
                showToast('å·²é€€å‡ºé€‰æ‹©æ¨¡å¼');
            }
        }

        // æ›´æ–°é€‰ä¸­çš„å¡ç‰‡æ ·å¼
        function updateSelectedCards() {
            document.querySelectorAll('.favorite-card').forEach(card => {
                card.classList.remove('selected');
            });

            selectedItems.forEach(id => {
                const card = document.querySelector(`[data-id="${id}"]`);
                if (card) card.classList.add('selected');
            });

            document.getElementById('selectedCount').textContent = selectedItems.size;
        }

        // åˆ†ç±»ç­›é€‰
        document.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                currentCategory = this.dataset.category;
                filterItems();
                showToast(`ç­›é€‰ï¼š${this.textContent.trim()}`);
            });
        });

        function filterItems() {
            const cards = document.querySelectorAll('.favorite-card');
            cards.forEach(card => {
                const category = card.dataset.category;
                if (currentCategory === 'all' || category === currentCategory) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // æ’åºåŠŸèƒ½
        function toggleSortOrder() {
            sortAscending = !sortAscending;
            const sortIcon = document.getElementById('sortIcon');
            sortIcon.className = sortAscending ? 'fas fa-sort-amount-up' : 'fas fa-sort-amount-down';

            const grid = document.getElementById('favoritesGrid');
            const cards = Array.from(grid.children);

            cards.sort((a, b) => {
                const dateA = new Date(a.dataset.date);
                const dateB = new Date(b.dataset.date);
                return sortAscending ? dateA - dateB : dateB - dateA;
            });

            cards.forEach(card => grid.appendChild(card));
            showToast(sortAscending ? 'æŒ‰æ—¶é—´å‡åºæ’åˆ—' : 'æŒ‰æ—¶é—´é™åºæ’åˆ—');
        }

        // æœç´¢åŠŸèƒ½
        document.getElementById('searchInput').addEventListener('input', function (e) {
            const searchTerm = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.favorite-card');

            cards.forEach(card => {
                const title = card.querySelector('.favorite-title').textContent.toLowerCase();
                const content = card.querySelector('.favorite-content').textContent.toLowerCase();
                const tags = Array.from(card.querySelectorAll('.favorite-tag')).map(tag => tag.textContent.toLowerCase()).join(' ');

                if (title.includes(searchTerm) || content.includes(searchTerm) || tags.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // åˆ‡æ¢æ”¶è—çŠ¶æ€
        function toggleFavorite(btn) {
            const icon = btn.querySelector('i');
            if (btn.classList.contains('liked')) {
                btn.classList.remove('liked');
                icon.className = 'far fa-heart';
                showToast('å·²å–æ¶ˆæ”¶è—');
            } else {
                btn.classList.add('liked');
                icon.className = 'fas fa-heart';
                showToast('å·²æ·»åŠ åˆ°æ”¶è—');
            }
        }

        // å±•å¼€/æ”¶èµ·å†…å®¹
        function toggleExpand(content) {
            if (!isSelectMode) {
                content.classList.toggle('expanded');
            }
        }

        // ä½¿ç”¨æ”¶è—çš„ç¥ç¦
        function useFavorite(id) {
            showToast('æ­£åœ¨åº”ç”¨ç¥ç¦æ¨¡æ¿...');
            // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°åˆ›å»ºç¥ç¦é¡µé¢ï¼Œå¹¶é¢„å¡«å……å†…å®¹
            setTimeout(() => {
                pageTransition('create-blessing.html');
            }, 1000);
        }

        // åˆ†äº«æ”¶è—é¡¹
        function shareItem(id) {
            showToast('æ­£åœ¨åˆ†äº«ç²¾ç¾ç¥ç¦...');
            // è¿™é‡Œå¯ä»¥å®ç°åˆ†äº«åŠŸèƒ½
        }

        // å¡ç‰‡ç‚¹å‡»äº‹ä»¶
        document.addEventListener('click', function (e) {
            if (isSelectMode && e.target.closest('.favorite-card')) {
                const card = e.target.closest('.favorite-card');
                const id = card.dataset.id || Math.random().toString();
                card.dataset.id = id;

                if (selectedItems.has(id)) {
                    selectedItems.delete(id);
                } else {
                    selectedItems.add(id);
                }
                updateSelectedCards();
            }
        });

        // æ‰¹é‡æ“ä½œ
        function batchShare() {
            if (selectedItems.size === 0) {
                showToast('è¯·å…ˆé€‰æ‹©è¦åˆ†äº«çš„å†…å®¹');
                return;
            }
            showToast(`æ­£åœ¨åˆ†äº« ${selectedItems.size} é¡¹å†…å®¹...`);
        }

        function batchRemove() {
            if (selectedItems.size === 0) {
                showToast('è¯·å…ˆé€‰æ‹©è¦ç§»é™¤çš„å†…å®¹');
                return;
            }
            if (confirm(`ç¡®å®šè¦ç§»é™¤ ${selectedItems.size} é¡¹æ”¶è—å—ï¼Ÿ`)) {
                showToast(`å·²ç§»é™¤ ${selectedItems.size} é¡¹æ”¶è—`);
                selectedItems.clear();
                updateSelectedCards();
            }
        }

        function batchUse() {
            if (selectedItems.size === 0) {
                showToast('è¯·å…ˆé€‰æ‹©è¦ä½¿ç”¨çš„å†…å®¹');
                return;
            }
            showToast(`æ­£åœ¨æ‰¹é‡åº”ç”¨ ${selectedItems.size} é¡¹æ¨¡æ¿...`);
        }

        // æ˜¾ç¤ºè¯¦æƒ…
        function showDetail(id) {
            // è¿™é‡Œå¯ä»¥æ˜¾ç¤ºæ”¶è—é¡¹çš„è¯¦ç»†ä¿¡æ¯
            document.getElementById('detailModal').classList.add('show');
        }

        function closeDetailModal() {
            document.getElementById('detailModal').classList.remove('show');
        }

        // æ¨èåŠŸèƒ½
        function showRecommendations() {
            document.getElementById('recommendModal').classList.add('show');
        }

        function closeRecommendModal() {
            document.getElementById('recommendModal').classList.remove('show');
        }

        function addRecommendation() {
            showToast('å·²æ·»åŠ æ¨èå†…å®¹åˆ°æ”¶è—');
            closeRecommendModal();
        }

        // ç¼–è¾‘æ”¶è—
        function editFavorite() {
            showToast('ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­...');
            closeDetailModal();
        }

        function useFromDetail() {
            showToast('æ­£åœ¨åº”ç”¨ç¥ç¦æ¨¡æ¿...');
            closeDetailModal();
            setTimeout(() => {
                pageTransition('create-blessing.html');
            }, 1000);
        }        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function () {
            // åˆå§‹åŒ–ç­›é€‰
            filterItems();

            // ä¸ºæ¯ä¸ªå¡ç‰‡æ·»åŠ å”¯ä¸€ID
            document.querySelectorAll('.favorite-card').forEach((card, index) => {
                card.dataset.id = `favorite_${index + 1}`;
            });

            // åˆå§‹åŒ–åˆ†ç±»æ ‡ç­¾æ»šåŠ¨åŠŸèƒ½
            initCategoryTabsScroll();

            // æ¨¡æ‹Ÿå®æ—¶æ•°æ®æ›´æ–°
            setInterval(() => {
                // è¿™é‡Œå¯ä»¥å®ç°å®æ—¶æ›´æ–°ç»Ÿè®¡æ•°æ®
            }, 30000);

            // æ·»åŠ æ»‘åŠ¨æ‰‹åŠ¿æ”¯æŒï¼ˆç§»åŠ¨ç«¯ä¼˜åŒ–ï¼‰
            let startY = 0;
            let startX = 0;

            document.addEventListener('touchstart', function (e) {
                startY = e.touches[0].clientY;
                startX = e.touches[0].clientX;
            });

            document.addEventListener('touchend', function (e) {
                const endY = e.changedTouches[0].clientY;
                const endX = e.changedTouches[0].clientX;
                const diffY = startY - endY;
                const diffX = startX - endX;

                // å³æ»‘è¿”å›
                if (diffX < -50 && Math.abs(diffY) < 100) {
                    goBack();
                }
            });
        });        // åˆå§‹åŒ–åˆ†ç±»æ ‡ç­¾æ»šåŠ¨åŠŸèƒ½
        function initCategoryTabsScroll() {
            const container = document.querySelector('.category-tabs-container');
            const tabs = document.getElementById('categoryTabs');

            if (!container || !tabs) return;

            // æ·»åŠ é¼ æ ‡æ‹–æ‹½æ»šåŠ¨æ”¯æŒ
            let isDown = false;
            let startX;
            let scrollLeftStart;

            tabs.addEventListener('mousedown', (e) => {
                isDown = true;
                tabs.style.cursor = 'grabbing';
                startX = e.pageX - tabs.offsetLeft;
                scrollLeftStart = tabs.scrollLeft;
                e.preventDefault();
            });

            tabs.addEventListener('mouseleave', () => {
                isDown = false;
                tabs.style.cursor = 'grab';
            });

            tabs.addEventListener('mouseup', () => {
                isDown = false;
                tabs.style.cursor = 'grab';
            });

            tabs.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - tabs.offsetLeft;
                const walk = (x - startX) * 2; // æ»šåŠ¨é€Ÿåº¦å€æ•°
                tabs.scrollLeft = scrollLeftStart - walk;
            });

            // è®¾ç½®åˆå§‹cursoræ ·å¼
            tabs.style.cursor = 'grab';

            // æ·»åŠ è§¦æ‘¸æ»šåŠ¨æ”¯æŒ
            let touchStartX = 0;
            let touchScrollStart = 0;

            tabs.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchScrollStart = tabs.scrollLeft;
            }, { passive: true });

            tabs.addEventListener('touchmove', (e) => {
                const touchX = e.touches[0].clientX;
                const diffX = touchStartX - touchX;
                tabs.scrollLeft = touchScrollStart + diffX;
            }, { passive: true });

            // æ·»åŠ é”®ç›˜æ”¯æŒ
            tabs.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    tabs.scrollLeft -= 100;
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    tabs.scrollLeft += 100;
                }
            });

            // ä½¿tabså¯ä»¥è·å¾—ç„¦ç‚¹ä»¥æ”¯æŒé”®ç›˜æ“ä½œ
            tabs.setAttribute('tabindex', '0');
        }
    </script>
</body>
</html>