<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的收藏 - 高考祈福</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        /* iPhone 15 Pro Max 外壳 */
        .phone-container {
            width: 393px;
            height: 852px;
            margin: 20px auto;
            position: relative;
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border-radius: 55px;
            padding: 8px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.1),
                inset 0 0 0 2px rgba(255, 255, 255, 0.1);
        }

        /* 响应式调整 */
        @media (max-height: 900px) {
            .phone-container {
                transform: scale(0.9);
                margin: 10px auto;
            }
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                    #0f0f23 0%,
                    #1a1a2e 30%,
                    #16213e 60%,
                    #0f0f23 100%);
            border-radius: 47px;
            overflow: hidden;
            position: relative;
        }

        /* Status bar */
        .status-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 47px;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.8), transparent);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 24px;
            font-size: 14px;
            font-weight: 600;
            color: white;
            z-index: 100;
        }

        .time {
            letter-spacing: 0.5px;
        }

        .status-icons {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-icons i {
            font-size: 16px;
        }

        /* Navigation bar */
        .nav-bar {
            position: absolute;
            top: 47px;
            left: 0;
            right: 0;
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 24px;
            z-index: 90;
        }

        .nav-back {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-back:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .nav-title {
            flex: 1;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
        }

        .nav-action {
            width: 40px;
            height: 40px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-action:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* 3D背景场景 */
        .background-scene {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            opacity: 0.4;
        }

        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .floating-element {
            position: absolute;
            background: linear-gradient(45deg, #ffd700, #ff8c42);
            border-radius: 50%;
            opacity: 0.6;
            animation: float3d 12s infinite ease-in-out;
        }

        .floating-element:nth-child(1) {
            width: 8px;
            height: 8px;
            left: 10%;
            top: 20%;
            animation-delay: 0s;
        }

        .floating-element:nth-child(2) {
            width: 6px;
            height: 6px;
            left: 80%;
            top: 15%;
            animation-delay: 2s;
        }

        .floating-element:nth-child(3) {
            width: 10px;
            height: 10px;
            left: 60%;
            top: 40%;
            animation-delay: 4s;
        }

        .floating-element:nth-child(4) {
            width: 4px;
            height: 4px;
            left: 25%;
            top: 70%;
            animation-delay: 6s;
        }

        .floating-element:nth-child(5) {
            width: 7px;
            height: 7px;
            left: 90%;
            top: 60%;
            animation-delay: 8s;
        }

        @keyframes float3d {

            0%,
            100% {
                transform: translateY(0) scale(1) rotate(0deg);
                opacity: 0.3;
            }

            25% {
                transform: translateY(-20px) scale(1.1) rotate(90deg);
                opacity: 0.8;
            }

            50% {
                transform: translateY(-10px) scale(0.9) rotate(180deg);
                opacity: 0.5;
            }

            75% {
                transform: translateY(-30px) scale(1.2) rotate(270deg);
                opacity: 0.7;
            }
        }

        /* Content area */
        .content {
            height: calc(100% - 107px);
            margin-top: 107px;
            overflow-y: auto;
            padding: 20px;
            position: relative;
            z-index: 10;
            /* 隐藏滚动条但保持滚动功能 */
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE and Edge */
        }

        /* 隐藏 Webkit 内核浏览器的滚动条 */
        .content::-webkit-scrollbar {
            display: none;
        }

        /* 隐藏详情模态框滚动条但保持滚动功能 */
        .detail-modal .modal-content::-webkit-scrollbar {
            display: none;
        }

        .detail-modal .modal-content {
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE and Edge */
        }

        /* 收藏统计卡片 */
        .favorites-overview {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 140, 66, 0.1));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }

        .favorites-overview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #ffd700, #ff8c42, #ffd700);
        }

        .overview-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .overview-title {
            font-size: 18px;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .overview-action {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .overview-action:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .overview-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .overview-stat {
            text-align: center;
        }

        .overview-number {
            font-size: 24px;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 4px;
        }

        .overview-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        /* 快速分类栏 */
        .category-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            overflow-y: hidden;
            padding-bottom: 4px;
            /* 隐藏横向滚动条但保持滚动功能 */
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE and Edge */
            /* 增强滚动体验 */
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            /* iOS 滑动优化 */
            position: relative;
        }

        /* 隐藏 Webkit 内核浏览器的横向滚动条 */
        .category-tabs::-webkit-scrollbar {
            display: none;
        }

        /* 分类标签容器 */
        .category-tabs-container {
            position: relative;
        }

        .category-tab {
            flex-shrink: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            white-space: nowrap;
        }

        .category-tab.active {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border-color: transparent;
        }

        .category-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.15);
        }

        /* 搜索和筛选栏 */
        .search-filter-bar {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .search-input-container {
            flex: 1;
            position: relative;
        }

        .search-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 12px 16px 12px 44px;
            color: white;
            font-size: 14px;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-input:focus {
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.5);
        }

        .filter-sort-btn {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-sort-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* 收藏网格 */
        .favorites-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }

        .favorite-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .favorite-card:hover {
            transform: translateY(-2px);
            border-color: rgba(255, 215, 0, 0.3);
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.1);
        }

        .favorite-card.selected {
            border-color: rgba(255, 215, 0, 0.5);
            background: rgba(255, 215, 0, 0.1);
        }

        .favorite-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .favorite-info {
            flex: 1;
        }

        .favorite-title {
            font-size: 14px;
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .favorite-meta {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
        }

        .favorite-actions {
            display: flex;
            gap: 8px;
        }

        .favorite-action-btn {
            width: 28px;
            height: 28px;
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .favorite-action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
        }

        .favorite-action-btn.liked {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .favorite-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.5;
            position: relative;
            max-height: 80px;
            overflow: hidden;
        }

        .favorite-content.expanded {
            max-height: none;
        }

        .favorite-content::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(transparent, rgba(255, 255, 255, 0.05));
            pointer-events: none;
        }

        .favorite-content.expanded::after {
            display: none;
        }

        .favorite-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }

        .favorite-tag {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: 500;
        }

        .favorite-bottom {
            display: flex;
            align-items: center;
            justify-content: between;
        }

        .favorite-stats {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .favorite-stat {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
        }

        .favorite-use-btn {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .favorite-use-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);
        }

        /* 空状态 */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.6);
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
            color: #ffd700;
        }

        .empty-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.8);
        }

        .empty-desc {
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .empty-action {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .empty-action:hover {
            transform: translateY(-2px);
        }

        /* 批量操作栏 */
        .batch-actions {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .batch-actions.show {
            opacity: 1;
            visibility: visible;
        }

        .batch-info {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }

        .batch-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 8px 16px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .batch-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .batch-btn.primary {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
            border-color: transparent;
        }

        /* Toast消息 */
        .toast {
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .toast.show {
            opacity: 1;
        }

        /* 模态框样式 */
        .modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            border-radius: 47px;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: rgba(15, 15, 35, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            max-width: 320px;
            width: 90%;
            backdrop-filter: blur(20px);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal.show .modal-content {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }

        .close-btn {
            width: 32px;
            height: 32px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .modal-body {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
        }

        .modal-btn.primary {
            background: linear-gradient(135deg, #ffd700, #ff8c42);
            color: white;
        }

        .modal-btn:hover {
            transform: translateY(-1px);
        }

        /* 详情模态框特殊样式 */
        .detail-modal .modal-content {
            max-width: 350px;
            max-height: 600px;
            overflow-y: auto;
        }

        .detail-content {
            font-size: 14px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .detail-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .detail-tag {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .detail-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .detail-stat {
            text-align: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .detail-stat-number {
            font-size: 18px;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 4px;
        }

        .detail-stat-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="phone-screen">
            <!-- 3D背景场景 -->
            <div class="background-scene">
                <div class="floating-elements">
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                    <div class="floating-element"></div>
                </div>
            </div>

            <!-- Status Bar -->
            <div class="status-bar">
                <div class="time">9:41</div>
                <div class="status-icons">
                    <i class="fas fa-signal"></i>
                    <i class="fas fa-wifi"></i>
                    <i class="fas fa-battery-three-quarters"></i>
                </div>
            </div>

            <!-- Navigation Bar -->
            <div class="nav-bar">
                <div class="nav-back" onclick="goBack()">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="nav-title">我的收藏</div>
                <div class="nav-action" onclick="toggleSelectMode()">
                    <i class="fas fa-check-square" id="selectIcon"></i>
                </div>
            </div>

            <!-- Content -->
            <div class="content">
                <!-- 收藏概览 -->
                <div class="favorites-overview">
                    <div class="overview-header">
                        <div class="overview-title">
                            <i class="fas fa-heart"></i>
                            我的收藏库
                        </div>
                        <div class="overview-action" onclick="showRecommendations()">
                            <i class="fas fa-sparkles"></i>
                            发现更多
                        </div>
                    </div>
                    <div class="overview-stats">
                        <div class="overview-stat">
                            <div class="overview-number">42</div>
                            <div class="overview-label">收藏数量</div>
                        </div>
                        <div class="overview-stat">
                            <div class="overview-number">18</div>
                            <div class="overview-label">已使用</div>
                        </div>
                        <div class="overview-stat">
                            <div class="overview-number">7</div>
                            <div class="overview-label">自定义标签</div>
                        </div>
                    </div>
                </div>

                <!-- 搜索筛选栏 -->
                <div class="search-filter-bar">
                    <div class="search-input-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="搜索收藏的祝福内容..." id="searchInput">
                    </div>
                    <div class="filter-sort-btn" onclick="toggleSortOrder()">
                        <i class="fas fa-sort-amount-down" id="sortIcon"></i>
                    </div>
                </div>

                <!-- 快速分类 -->
                <div class="category-tabs-container">
                    <div class="category-tabs" id="categoryTabs">
                        <div class="category-tab active" data-category="all">
                            <i class="fas fa-th-large"></i>
                            全部
                        </div>
                        <div class="category-tab" data-category="motivation">
                            <i class="fas fa-fire"></i>
                            励志
                        </div>
                        <div class="category-tab" data-category="blessing">
                            <i class="fas fa-hands-praying"></i>
                            祈福
                        </div>
                        <div class="category-tab" data-category="wisdom">
                            <i class="fas fa-lightbulb"></i>
                            智慧
                        </div>
                        <div class="category-tab" data-category="emotional">
                            <i class="fas fa-heart"></i>
                            温暖
                        </div>
                        <div class="category-tab" data-category="custom">
                            <i class="fas fa-tag"></i>
                            自定义
                        </div>
                    </div>
                </div>

                <!-- 收藏网格 -->
                <div class="favorites-grid" id="favoritesGrid">
                    <!-- 收藏卡片1 -->
                    <div class="favorite-card" data-category="motivation" data-date="2024-06-05" data-uses="5">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">愿你如雄鹰般展翅高飞，超越自我</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 2天前收藏</span>
                                    <span><i class="fas fa-paper-plane"></i> 使用5次</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn liked" onclick="toggleFavorite(this)">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(1)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            愿你在高考的舞台上，如雄鹰般展翅高飞，超越自我，创造属于你的辉煌！每一道题目都是你智慧的体现，每一分努力都会得到最好的回报。相信自己，勇敢前行，金榜题名指日可待！🎓✨
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">励志</span>
                            <span class="favorite-tag">激励</span>
                            <span class="favorite-tag">雄鹰</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>126</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>23</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(1)">
                                <i class="fas fa-paper-plane"></i>
                                立即使用
                            </button>
                        </div>
                    </div>

                    <!-- 收藏卡片2 -->
                    <div class="favorite-card" data-category="blessing" data-date="2024-06-04" data-uses="3">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">十年寒窗苦读，今朝金榜题名时</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 3天前收藏</span>
                                    <span><i class="fas fa-paper-plane"></i> 使用3次</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn liked" onclick="toggleFavorite(this)">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(2)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            十年寒窗苦读，今朝金榜题名时。愿你在高考中超常发挥，实现心中的梦想。记住：你的努力不会白费，你的梦想值得追求！愿所有的汗水都化作成功的喜悦！🌟📚
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">祈福</span>
                            <span class="favorite-tag">传统</span>
                            <span class="favorite-tag">金榜题名</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>89</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>15</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(2)">
                                <i class="fas fa-paper-plane"></i>
                                立即使用
                            </button>
                        </div>
                    </div>

                    <!-- 收藏卡片3 -->
                    <div class="favorite-card" data-category="wisdom" data-date="2024-06-03" data-uses="1">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">智慧的光芒将照亮前行的道路</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 4天前收藏</span>
                                    <span><i class="fas fa-paper-plane"></i> 使用1次</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn" onclick="toggleFavorite(this)">
                                    <i class="far fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(3)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            知识是最美的财富，智慧是最亮的明灯。愿你在知识的海洋中自由遨游，用智慧的光芒照亮前行的道路。高考只是人生的一个起点，真正的精彩还在后头！💡📖
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">智慧</span>
                            <span class="favorite-tag">知识</span>
                            <span class="favorite-tag">人生哲理</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>67</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>12</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(3)">
                                <i class="fas fa-paper-plane"></i>
                                立即使用
                            </button>
                        </div>
                    </div>

                    <!-- 收藏卡片4 -->
                    <div class="favorite-card" data-category="emotional" data-date="2024-06-02" data-uses="8">
                        <div class="favorite-header">
                            <div class="favorite-info">
                                <div class="favorite-title">愿你被世界温柔以待</div>
                                <div class="favorite-meta">
                                    <span><i class="fas fa-calendar"></i> 5天前收藏</span>
                                    <span><i class="fas fa-paper-plane"></i> 使用8次</span>
                                </div>
                            </div>
                            <div class="favorite-actions">
                                <div class="favorite-action-btn liked" onclick="toggleFavorite(this)">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="favorite-action-btn" onclick="shareItem(4)">
                                    <i class="fas fa-share"></i>
                                </div>
                            </div>
                        </div>
                        <div class="favorite-content" onclick="toggleExpand(this)">
                            愿你被世界温柔以待，愿你的努力都有收获，愿你的梦想都能实现。高考路上虽然辛苦，但请相信，所有的付出都是值得的。加油，未来的大学生！🌸💖
                        </div>
                        <div class="favorite-tags">
                            <span class="favorite-tag">温暖</span>
                            <span class="favorite-tag">治愈</span>
                            <span class="favorite-tag">温柔</span>
                        </div>
                        <div class="favorite-bottom">
                            <div class="favorite-stats">
                                <div class="favorite-stat">
                                    <i class="fas fa-eye"></i>
                                    <span>234</span>
                                </div>
                                <div class="favorite-stat">
                                    <i class="fas fa-thumbs-up"></i>
                                    <span>45</span>
                                </div>
                            </div>
                            <button class="favorite-use-btn" onclick="useFavorite(4)">
                                <i class="fas fa-paper-plane"></i>
                                立即使用
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 批量操作栏 -->
    <div class="batch-actions" id="batchActions">
        <div class="batch-info">
            已选择 <span id="selectedCount">0</span> 项
        </div>
        <button class="batch-btn" onclick="batchShare()">
            <i class="fas fa-share"></i> 分享
        </button>
        <button class="batch-btn" onclick="batchRemove()">
            <i class="fas fa-trash"></i> 移除
        </button>
        <button class="batch-btn primary" onclick="batchUse()">
            <i class="fas fa-paper-plane"></i> 批量使用
        </button>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- 详情模态框 -->
    <div class="modal detail-modal" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">祝福详情</div>
                <button class="close-btn" onclick="closeDetailModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="detail-content" id="detailContent">
                    <!-- 详情内容将在这里动态填充 -->
                </div>
                <div class="detail-tags" id="detailTags">
                    <!-- 标签将在这里动态填充 -->
                </div>
                <div class="detail-stats">
                    <div class="detail-stat">
                        <div class="detail-stat-number" id="detailViews">0</div>
                        <div class="detail-stat-label">查看次数</div>
                    </div>
                    <div class="detail-stat">
                        <div class="detail-stat-number" id="detailUses">0</div>
                        <div class="detail-stat-label">使用次数</div>
                    </div>
                    <div class="detail-stat">
                        <div class="detail-stat-number" id="detailLikes">0</div>
                        <div class="detail-stat-label">获得喜欢</div>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" onclick="editFavorite()">
                    <i class="fas fa-edit"></i> 编辑
                </button>
                <button class="modal-btn primary" onclick="useFromDetail()">
                    <i class="fas fa-paper-plane"></i> 立即使用
                </button>
            </div>
        </div>
    </div>

    <!-- 推荐模态框 -->
    <div class="modal" id="recommendModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">为你推荐</div>
                <button class="close-btn" onclick="closeRecommendModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>基于你的收藏偏好，为你推荐以下优质祝福内容：</p>
                <div
                    style="margin: 16px 0; padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px; font-size: 13px; line-height: 1.5;">
                    "成功的花，人们只惊羡她现时的明艳，然而当初她的芽儿，浸透了奋斗的泪泉，洒遍了牺牲的血雨。愿你在追梦路上，永远保持初心！"
                </div>
            </div>
            <div class="modal-actions">
                <button class="modal-btn secondary" onclick="closeRecommendModal()">稍后再看</button>
                <button class="modal-btn primary" onclick="addRecommendation()">
                    <i class="fas fa-heart"></i> 加入收藏
                </button>
            </div>
        </div>
    </div>
    </div>
    </div>

    <script>
        let isSelectMode = false;
        let selectedItems = new Set();
        let sortAscending = false;
        let currentCategory = 'all';

        // 页面过渡动画
        function pageTransition(targetPage, callback) {
            const screen = document.querySelector('.phone-screen');
            screen.style.transition = 'transform 0.3s ease-out, opacity 0.3s ease-out';
            screen.style.transform = 'scale(0.95)';
            screen.style.opacity = '0.7';

            setTimeout(() => {
                if (callback) callback();
                window.location.href = targetPage;
            }, 150);
        }

        function goBack() {
            pageTransition('personal-center.html');
        }

        // 显示Toast消息
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // 切换选择模式
        function toggleSelectMode() {
            isSelectMode = !isSelectMode;
            const selectIcon = document.getElementById('selectIcon');
            const batchActions = document.getElementById('batchActions');

            if (isSelectMode) {
                selectIcon.className = 'fas fa-times';
                batchActions.classList.add('show');
                showToast('已进入选择模式');
            } else {
                selectIcon.className = 'fas fa-check-square';
                batchActions.classList.remove('show');
                selectedItems.clear();
                updateSelectedCards();
                showToast('已退出选择模式');
            }
        }

        // 更新选中的卡片样式
        function updateSelectedCards() {
            document.querySelectorAll('.favorite-card').forEach(card => {
                card.classList.remove('selected');
            });

            selectedItems.forEach(id => {
                const card = document.querySelector(`[data-id="${id}"]`);
                if (card) card.classList.add('selected');
            });

            document.getElementById('selectedCount').textContent = selectedItems.size;
        }

        // 分类筛选
        document.querySelectorAll('.category-tab').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                currentCategory = this.dataset.category;
                filterItems();
                showToast(`筛选：${this.textContent.trim()}`);
            });
        });

        function filterItems() {
            const cards = document.querySelectorAll('.favorite-card');
            cards.forEach(card => {
                const category = card.dataset.category;
                if (currentCategory === 'all' || category === currentCategory) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // 排序功能
        function toggleSortOrder() {
            sortAscending = !sortAscending;
            const sortIcon = document.getElementById('sortIcon');
            sortIcon.className = sortAscending ? 'fas fa-sort-amount-up' : 'fas fa-sort-amount-down';

            const grid = document.getElementById('favoritesGrid');
            const cards = Array.from(grid.children);

            cards.sort((a, b) => {
                const dateA = new Date(a.dataset.date);
                const dateB = new Date(b.dataset.date);
                return sortAscending ? dateA - dateB : dateB - dateA;
            });

            cards.forEach(card => grid.appendChild(card));
            showToast(sortAscending ? '按时间升序排列' : '按时间降序排列');
        }

        // 搜索功能
        document.getElementById('searchInput').addEventListener('input', function (e) {
            const searchTerm = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.favorite-card');

            cards.forEach(card => {
                const title = card.querySelector('.favorite-title').textContent.toLowerCase();
                const content = card.querySelector('.favorite-content').textContent.toLowerCase();
                const tags = Array.from(card.querySelectorAll('.favorite-tag')).map(tag => tag.textContent.toLowerCase()).join(' ');

                if (title.includes(searchTerm) || content.includes(searchTerm) || tags.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // 切换收藏状态
        function toggleFavorite(btn) {
            const icon = btn.querySelector('i');
            if (btn.classList.contains('liked')) {
                btn.classList.remove('liked');
                icon.className = 'far fa-heart';
                showToast('已取消收藏');
            } else {
                btn.classList.add('liked');
                icon.className = 'fas fa-heart';
                showToast('已添加到收藏');
            }
        }

        // 展开/收起内容
        function toggleExpand(content) {
            if (!isSelectMode) {
                content.classList.toggle('expanded');
            }
        }

        // 使用收藏的祝福
        function useFavorite(id) {
            showToast('正在应用祝福模板...');
            // 这里可以跳转到创建祝福页面，并预填充内容
            setTimeout(() => {
                pageTransition('create-blessing.html');
            }, 1000);
        }

        // 分享收藏项
        function shareItem(id) {
            showToast('正在分享精美祝福...');
            // 这里可以实现分享功能
        }

        // 卡片点击事件
        document.addEventListener('click', function (e) {
            if (isSelectMode && e.target.closest('.favorite-card')) {
                const card = e.target.closest('.favorite-card');
                const id = card.dataset.id || Math.random().toString();
                card.dataset.id = id;

                if (selectedItems.has(id)) {
                    selectedItems.delete(id);
                } else {
                    selectedItems.add(id);
                }
                updateSelectedCards();
            }
        });

        // 批量操作
        function batchShare() {
            if (selectedItems.size === 0) {
                showToast('请先选择要分享的内容');
                return;
            }
            showToast(`正在分享 ${selectedItems.size} 项内容...`);
        }

        function batchRemove() {
            if (selectedItems.size === 0) {
                showToast('请先选择要移除的内容');
                return;
            }
            if (confirm(`确定要移除 ${selectedItems.size} 项收藏吗？`)) {
                showToast(`已移除 ${selectedItems.size} 项收藏`);
                selectedItems.clear();
                updateSelectedCards();
            }
        }

        function batchUse() {
            if (selectedItems.size === 0) {
                showToast('请先选择要使用的内容');
                return;
            }
            showToast(`正在批量应用 ${selectedItems.size} 项模板...`);
        }

        // 显示详情
        function showDetail(id) {
            // 这里可以显示收藏项的详细信息
            document.getElementById('detailModal').classList.add('show');
        }

        function closeDetailModal() {
            document.getElementById('detailModal').classList.remove('show');
        }

        // 推荐功能
        function showRecommendations() {
            document.getElementById('recommendModal').classList.add('show');
        }

        function closeRecommendModal() {
            document.getElementById('recommendModal').classList.remove('show');
        }

        function addRecommendation() {
            showToast('已添加推荐内容到收藏');
            closeRecommendModal();
        }

        // 编辑收藏
        function editFavorite() {
            showToast('编辑功能开发中...');
            closeDetailModal();
        }

        function useFromDetail() {
            showToast('正在应用祝福模板...');
            closeDetailModal();
            setTimeout(() => {
                pageTransition('create-blessing.html');
            }, 1000);
        }        // 初始化页面
        document.addEventListener('DOMContentLoaded', function () {
            // 初始化筛选
            filterItems();

            // 为每个卡片添加唯一ID
            document.querySelectorAll('.favorite-card').forEach((card, index) => {
                card.dataset.id = `favorite_${index + 1}`;
            });

            // 初始化分类标签滚动功能
            initCategoryTabsScroll();

            // 模拟实时数据更新
            setInterval(() => {
                // 这里可以实现实时更新统计数据
            }, 30000);

            // 添加滑动手势支持（移动端优化）
            let startY = 0;
            let startX = 0;

            document.addEventListener('touchstart', function (e) {
                startY = e.touches[0].clientY;
                startX = e.touches[0].clientX;
            });

            document.addEventListener('touchend', function (e) {
                const endY = e.changedTouches[0].clientY;
                const endX = e.changedTouches[0].clientX;
                const diffY = startY - endY;
                const diffX = startX - endX;

                // 右滑返回
                if (diffX < -50 && Math.abs(diffY) < 100) {
                    goBack();
                }
            });
        });        // 初始化分类标签滚动功能
        function initCategoryTabsScroll() {
            const container = document.querySelector('.category-tabs-container');
            const tabs = document.getElementById('categoryTabs');

            if (!container || !tabs) return;

            // 添加鼠标拖拽滚动支持
            let isDown = false;
            let startX;
            let scrollLeftStart;

            tabs.addEventListener('mousedown', (e) => {
                isDown = true;
                tabs.style.cursor = 'grabbing';
                startX = e.pageX - tabs.offsetLeft;
                scrollLeftStart = tabs.scrollLeft;
                e.preventDefault();
            });

            tabs.addEventListener('mouseleave', () => {
                isDown = false;
                tabs.style.cursor = 'grab';
            });

            tabs.addEventListener('mouseup', () => {
                isDown = false;
                tabs.style.cursor = 'grab';
            });

            tabs.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - tabs.offsetLeft;
                const walk = (x - startX) * 2; // 滚动速度倍数
                tabs.scrollLeft = scrollLeftStart - walk;
            });

            // 设置初始cursor样式
            tabs.style.cursor = 'grab';

            // 添加触摸滚动支持
            let touchStartX = 0;
            let touchScrollStart = 0;

            tabs.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchScrollStart = tabs.scrollLeft;
            }, { passive: true });

            tabs.addEventListener('touchmove', (e) => {
                const touchX = e.touches[0].clientX;
                const diffX = touchStartX - touchX;
                tabs.scrollLeft = touchScrollStart + diffX;
            }, { passive: true });

            // 添加键盘支持
            tabs.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    tabs.scrollLeft -= 100;
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    tabs.scrollLeft += 100;
                }
            });

            // 使tabs可以获得焦点以支持键盘操作
            tabs.setAttribute('tabindex', '0');
        }
    </script>
</body>
</html>